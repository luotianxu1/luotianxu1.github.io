---
title: 计算机网路
icon: sheji
order: 10
date: 2024-07-15
category:
    - 软考
tag:
    - 软考
---

## 计算机网络概述

计算机网络功能

- 数据通信
- 资源共享
- 管理集中化
- 实现分布式处理
- 负载均衡

计算机网络可以极大扩展计算机系统的功能及其应用范围，提高可靠性，在为用户提供方便的同时，减少整体系统费用，降低了系统性价比

### 计算机网络性能指标

计算机网络性能指标可以从速率、带宽、吞吐量和时延等不同方面来度量计算及网络的性能

#### 时延

时延是指数据（一个报文、分组甚至比特）从网络（或链路）的一端传送到另外一端传送到另一端所需的时间。时延是个很重要的性能指标，它由时也被称为延迟或迟延。网络中的时延由以下几个不同部分组成，如发送时延、传播时延、处理时延、排队时延等组成

网络延迟=处理延迟+排队延迟+发送延迟+传播延迟。如果不考虑网络环境，服务器的延迟的主要因素是队列和磁盘IO延迟

注：路由器发送时延大于交换机

## 分类

### 按分布范围分

- 局域网（LAN）Bluetooth
- 城域网（MAN）WiFi
- 广域网（WAN）WiMax
- 因特网 3G/4G

### 按拓扑结构分

- 总线型
- 星型
- 环型
- 树形

## 5G技术

5G网络的主要特征

1. 服务 化架构：5G核心网中引入了SBA服务化架构，实现网络功能的灵活定制和按需组合
2. 网络切片：通过网络切片技术在单个独立的物理网络上切分出多个逻辑网络，从而避免了为每一个服务建设一个专用的物理网络，极大地降低了建网和运维成本

## 组网技术

![ ](/img/softExamination/177.jpg)

### 交换技术

数据在网络中转发通常离不开交换机。交换机的功能包括：集线功能、中继功能、桥接功能、隔离冲突域功能等

### 基本交换原理

交换机是一种基于MAC地址识别，能完成封装转发数据包功能的网络设备。交换机可以“学习”MAC地址，并把其存放在内部地址中，通过在数据的始发者和目标接收者之间建立临时的交换路径，使数据直接由源地址到达目的地址

交换机需要实现的功能如下所述

1. 转发路径学习。根据收到的数据中的源MAC地址建立该地址痛交换机端口的映射写入MAC地址表中
2. 数据转发。如果交换机根据数据中的目的MAC地址在建立好的MAC地址表中查询到了，就向对应端口进行转发
3. 数据泛洪。如果数据中的目的MAC地址不再MAC地址表中，则向所有端口转发也就是泛洪。广播帧和组播帧向所有端口（不包括源端口）进行转发
4. 链路地址更新。MAC地址表会每隔一定时间（如300s）更新一次。

注：交换机初始状态时地址表为空；交换机重启或手动清空时地址表会清空

## TCP/IP协议族

![ ](/img/softExamination/178.jpg)

![ ](/img/softExamination/179.jpg)

![ ](/img/softExamination/180.jpg)

### DHCP

动态主机配置协议

分配方式：

- 固定分配【管理员分配】
- 动态分配【有效期限的IP地址】
- 自动分配【无限长的IP地址】

无效地址：169.254.X.X和0.0.0.0

- 租约默认为8天
- 当租约过半时，客户机需要向DHCP服务器申请续租
- 当租约超过87.5%时，如果仍然没有和当初提供的DHCP服务器联系上，则开始练习其他的DHCP服务器

![ ](/img/softExamination/181.jpg)

### DNS

域名系统

- 主机向本地域名服务器的查询采用递归查询
- 本地域名服务器向根域名服务器查询通常采用迭代查询

![ ](/img/softExamination/182.jpg)

- 递归查询：服务器必须回答目标IP与域名的映射关系
- 迭代查询: 服务器收到一次迭代查询回复一次结果，这个结果不一定是目标IP与域名的映射关系，也可以是其他DNS服务器的地址

![ ](/img/softExamination/183.jpg)

## 网络冗余设计

在网络冗余设计中，对于通信线路常见的设计目标主要有两个：一个是备用路径，另一个是负载分担

备用路径：提高可用性，由路由器、交换机等设备之间的独立备用链路构成，一般情况下备用路径仅仅在主路径失效时投入使用。设计时主要考虑：

1. 备用路径的带宽
2. 切换时间
3. 非对称
4. 自动切换
5. 测试

负载分担,是对备用路径方式的扩充，通过并行链路提供流量分担（荣誉的形式）来提高性能，主要的实现方法是利用两个或多个网络接口和路径来同时传递流量，设计及时注意考虑：

- 网络中存在备用路径、备用链路时，可以考虑加入负载分担设计
- 对于著路径、备用路径都相同的情况，可以实施负载分担的特例——负载均衡
- 对于主路径、备用路径不相同的情况，可以采用策略路由机制，让一部分应用的流量分摊到备用路径上

## 磁盘存储技术-Raid

- Raid0（条块化）：性能最高，并行处理，无冗余，损坏无法恢复
- raid1(镜像结构)：可用性，可修复性号，仅有50%利用率
- Raid0+1（Raid10）:Raid0与Raid1长处的结合，高效也可靠
- Raid3（奇偶校验的独立磁盘）：N+1模式，无固定的校验盘，坏一个盘可恢复
- Raid5（分布式奇偶校验的独立磁盘）：N+1模式，无固定的校验盘，坏一个盘可恢复。(n-1)/n
- Raid6（两种存储的奇偶校验）：N+2模式，无固定的校验盘，坏两个盘可恢复

## IPv6

IPv6是设计用于替代现代版本IP协议（Ipv4）的下一代IP协议

1. 寻址能力方面的扩展，IPv6地址长度为128位，地址空间增大了2^96倍
2. 灵活的IP报文头部格式。使用一些列固定格式的扩展头部取代了IPv4中可变长度的选项字段。IPv6中选项部分的出现方式也有所变化，使路由器可以简单路过选项而不做任何处理，加快了报文处理速度
3. IPv6简化了报文头部格式，字段只有8个，加快报文转发，提高了吞吐量

- 单播地址：用于单个接口的标识符，传统的点对点通信
- 组播地址：多播地址，一点对多点的通信，数据包交付到一组见算计中的每一个。IPv6没有广播的术语，而是将广播看作多播的一个特例
- 任播地址：泛播地址，这是IPv6增加的一种类型。任播的目的站是一组计算机，但数据包在交付时只交付给其中一个，通常是距离最近的一个

IPv6规定每个网卡最少有3个IPv6地址，分别是链路本地地址、全球单播地址和回送地址（站点本地地址）

IPv6把自动IP地址配置作为标准功能，只要计算机连接上网络便可自动分配IP地址

- 全状态自动配置：IPv6继承了IPv4动态主机配置协议（DHCP）这种自动配置服务
- 无状态自动配置：主机通过两个阶段分别获得链路本地地址和可聚合全球单播地址

### IPv4/IPv6过渡技术

1. 双协议栈技术：双栈技术通过节点对IPv4和IPv6双协议栈的支持，从而支持两种业务的共存
2. 隧道技术：隧道技术通过在IPv4网络中部署隧道，实现在IPv4网络上对IPv6业务的承载，保证业务的共存和过渡。隧道技术包括：6to4隧道；6over4隧道；ISATAP隧道
3. NAT-PT技术：NAT-PT使用网关设备连接IPv6和IPv4网络。当IPv4和IPv6节点互相访问时，NAT-PT网关实现两种协议的转换翻译和地址的映射

## 网络规划与设计

### 逻辑网络设计

逻辑网络设计是体现网络设计核心思想的关键阶段，在这一阶段根据需求规范和通信规范，先择一种比较适宜的网络逻辑结构，并基于该逻辑结构实施后续的资源分配规划、安全规划等内容。利用需求分析和现有网络体系分析的结果来设计逻辑网络结构，最后得到一份逻辑网络设计文档

![ ](/img/softExamination/185.jpg)

### 物理网络设计

物理网络设计是对逻辑网络设计的物理实现，通过对设备的具体物理分布、运行环境等确定，确保网络的物理连接符合逻辑连接的要求。在这一阶段，网络设计者需要确定具体的软/硬件、连接设备、布线和服务的部署方案，输出如下内容

- 网络物理结构图和布线方案
- 设备和部件的详细列表清单
- 软硬件和安装费用的估算
- 安装日程表，详细说明服务的时间以及期限
- 安装后的测试计划
- 用户的培训计划

## 层次化网络设计

### 分层设计

![ ](/img/softExamination/184.jpg)

- 核心层：主要是高速数据交换，实现高速数据传输、出口路由，常用冗余机制
- 汇聚层：网络访问策略控制、数据包处理和过滤、策略路由、广播域定义、寻址
- 接入层：主要是针对用户端，实现用户接入、计费管理、MAC地址认证、MAC地址过滤、收集用户信息，可以使用集线器代替交换机
